package com.bytefinger.toutuo.biz.performance.mapper;import com.baomidou.mybatisplus.core.mapper.BaseMapper;import com.bytefinger.toutuo.biz.performance.domain.BudgetPerformanceAllocationData;import com.bytefinger.toutuo.biz.performance.domain.BudgetStatisticalMethodConfig;import com.bytefinger.toutuo.biz.project.domain.Project;import com.bytefinger.toutuo.biz.project.domain.ProjectAchievement;import org.apache.ibatis.annotations.Mapper;import org.apache.ibatis.annotations.Param;import org.apache.ibatis.annotations.Select;import java.util.List;/** * <p> * 业绩分配数据 Mapper 接口 * </p> * * @author patrick * @since 2022-11-27 */@Mapperpublic interface BudgetPerformanceAllocationDataMapper extends BaseMapper<BudgetPerformanceAllocationData> {    @Select(" select config_value from sys_config where config_key='BIZ_BUDGET_IN'")    String  getBudgetInSysConfig();    @Select("select * from biz_project where  id = #{projectId} and   id in (\n" +            "select project_id from  biz_project_step where Status=1 and step_menu_id=18\n" +            ")")    List<Project>  getProject(@Param("projectId")  Long projectId);    @Select("select * from biz_project where    year(performance_confirm_time)=#{curYear} and  id in (\n" +            "select project_id from  biz_project_step where Status=1 and step_menu_id=18\n" +            ")")    List<Project>  getProjectList(@Param("curYear")  Integer curYear);    @Select("\t  select  a.id, a.assignment_desc as assignmentDesc,d.dept_name as expandCompanyName,`project_id` as projectId, `expand_company_id`  as expandCompanyId, `assignment_rate` as  assignmentRate,d.parent_id as parentId \n" +            "\t\t from  biz_project_achievement a \n" +            "\t\tleft join sys_dept d on a.expand_company_id=d.dept_id")    List<ProjectAchievement>  getProjectAchievementList();    @Select("\t  select  a.id, a.assignment_desc as assignmentDesc,d.dept_name as expandCompanyName,`project_id` as projectId, `expand_company_id`  as expandCompanyId, `assignment_rate` as  assignmentRate,d.parent_id as parentId \n" +            "\t\t from  biz_project_achievement a \n" +            "\t\tleft join sys_dept d on a.expand_company_id=d.dept_id" +            " where `project_id` = #{projectId}")    List<ProjectAchievement>  getProjectAchievementListByProjectId(@Param("projectId")  Long projectId);}